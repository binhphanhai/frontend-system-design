"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2182],{6792:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"frontend-interview/ui-component-api-design","title":"API Design Principles for UI Components","description":"Best practices for designing developer interface component APIs, useful for UI components coding and system design interviews","source":"@site/docs/frontend-interview/07-ui-component-api-design.md","sourceDirName":"frontend-interview","slug":"/frontend-interview/ui-component-api-design","permalink":"/frontend-system-design/docs/frontend-interview/ui-component-api-design","draft":false,"unlisted":false,"editUrl":"https://github.com/binhphanhai/frontend-system-design/tree/main/Summarize/docs/frontend-interview/07-ui-component-api-design.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{},"sidebar":"frontendInterviewSidebar","previous":{"title":"Cheatsheet for UI Interview Questions","permalink":"/frontend-system-design/docs/frontend-interview/ui-interview-cheatsheet"},"next":{"title":"Front End System Design Interviews \u2013 Quick Start","permalink":"/frontend-system-design/docs/frontend-interview/fe-system-design-quickstart"}}');var i=s(4848),t=s(8453);const a={},o="API Design Principles for UI Components",l={},c=[{value:"Initialization",id:"initialization",level:2},{value:"jQuery-style",id:"jquery-style",level:3},{value:"Vanilla JavaScript style",id:"vanilla-javascript-style",level:3},{value:"React (Or similar component-based libraries)",id:"react-or-similar-component-based-libraries",level:3},{value:"Customizing Appearance",id:"customizing-appearance",level:2},{value:"Class Injection",id:"class-injection",level:3},{value:"React Example",id:"react-example",level:4},{value:"jQuery Example",id:"jquery-example",level:4},{value:"Downside: Non-deterministic styling",id:"downside-non-deterministic-styling",level:4},{value:"CSS Selector Hooks",id:"css-selector-hooks",level:3},{value:"Theme Object",id:"theme-object",level:3},{value:"CSS Preprocessor Compilation",id:"css-preprocessor-compilation",level:3},{value:"CSS Variables / Custom Properties",id:"css-variables--custom-properties",level:3},{value:"Render Props",id:"render-props",level:3},{value:"Internationalization (i18n)",id:"internationalization-i18n",level:2},{value:"Avoid hardcoding of labels in a certain language",id:"avoid-hardcoding-of-labels-in-a-certain-language",level:3},{value:"Right-to-left languages",id:"right-to-left-languages",level:3}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"api-design-principles-for-ui-components",children:"API Design Principles for UI Components"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.em,{children:"Best practices for designing developer interface component APIs, useful for UI components coding and system design interviews"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:["User Interface component libraries like ",(0,i.jsx)(n.a,{href:"https://getbootstrap.com/",children:"Bootstrap"})," and ",(0,i.jsx)(n.a,{href:"https://mui.com/",children:"Material UI"})," help developers build UI faster by providing commonly used components like buttons, tabs, modals, etc., so that developers do not have to reinvent the wheel by building these components from scratch whenever they start on a new project."]}),"\n",(0,i.jsx)(n.p,{children:"Often during front end interviews, you will be asked to build UI components and design an API to initialize them. Designing good component APIs is bread and butter for Front End Engineers. This page covers some of the top tips and best practices for designing UI component APIs. Some of these tips may be framework-specific but can be generalized for other component-based UI frameworks."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"initialization",children:"Initialization"}),"\n",(0,i.jsx)(n.p,{children:"There are multiple ways to initialize a UI component:"}),"\n",(0,i.jsx)(n.h3,{id:"jquery-style",children:"jQuery-style"}),"\n",(0,i.jsxs)(n.p,{children:["Before modern JavaScript UI libraries/frameworks like ",(0,i.jsx)(n.a,{href:"https://react.dev/",children:"React"}),", ",(0,i.jsx)(n.a,{href:"https://angular.io/",children:"Angular"}),", and ",(0,i.jsx)(n.a,{href:"https://vuejs.org/",children:"Vue"})," came into the picture, ",(0,i.jsx)(n.a,{href:"https://jquery.com/",children:"jQuery"})," (and ",(0,i.jsx)(n.a,{href:"https://jqueryui.com/",children:"jQuery UI"}),') was the most popular way to build UI. jQuery UI popularized the idea of initializing UI components via "constructors" which involved two arguments:']}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Root element"}),": A root DOM element to render the contents"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Customization options"}),": Optional, additional, customization options usually in the form of a plain JavaScript object"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"<div id=\"gfe-slider\"></div>\r\n<script>\r\n  $('#gfe-slider').slider();\r\n<\/script>\n"})}),"\n",(0,i.jsx)(n.p,{children:"The slider can be customized by passing in a plain JavaScript object of options:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"<div id=\"gfe-slider\"></div>\r\n<script>\r\n  $('#gfe-slider').slider({\r\n    animate: true,\r\n    max: 50,\r\n    min: 10,\r\n    // See other options here: https://api.jqueryui.com/slider/\r\n  });\r\n<\/script>\n"})}),"\n",(0,i.jsx)(n.h3,{id:"vanilla-javascript-style",children:"Vanilla JavaScript style"}),"\n",(0,i.jsx)(n.p,{children:"There's no vanilla JavaScript standard for initializing components, but a common pattern is similar to jQuery's:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"function slider(rootEl, options) {\r\n  // Do something with rootEl and options.\r\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"react-or-similar-component-based-libraries",children:"React (Or similar component-based libraries)"}),"\n",(0,i.jsxs)(n.p,{children:["React forces you to write UI as components where the logic and structure is contained within. React components are JavaScript functions that return markup, a description of how to render itself. Components can take in ",(0,i.jsx)(n.code,{children:"props"}),", which are essentially customization options for a component."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"function Slider({ min, max }) {\r\n  // Use the props to render a customized component.\r\n  return <div>...</div>;\r\n}\r\n\r\n<Slider max={50} min={10} />;\n"})}),"\n",(0,i.jsx)(n.p,{children:"To render the element into the page, a separate API is used:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { createRoot } from 'react-dom/client';\r\nimport Slider from './Slider';\r\n\r\nconst domNode = document.getElementById('#gfe-slider');\r\nconst root = createRoot(domNode);\r\nroot.render(<Slider max={50} min={10} />);\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"customizing-appearance",children:"Customizing Appearance"}),"\n",(0,i.jsx)(n.p,{children:"Even though UI components in UI libraries provide default styling, developers will usually want to customize them with their company/product's branding and theme colors. Most UI components (especially those built as 3rd-party libraries) allow for customization of the appearance via several methods:"}),"\n",(0,i.jsx)(n.h3,{id:"class-injection",children:"Class Injection"}),"\n",(0,i.jsx)(n.p,{children:"Components accept a prop/option to allow the developer to provide their own classes, which are added to the actual DOM elements. This approach is not very robust because if the component also adds its own styling via classes, there could be conflicting properties within the component's classes and developer-provided classes."}),"\n",(0,i.jsx)(n.h4,{id:"react-example",children:"React Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"import clsx from 'clsx';\r\nfunction Slider({ className, value }) {\r\n  return (\r\n    <div className={clsx('gfe-slider', className)}>\r\n      <input type=\"range\" value={value} />\r\n    </div>\r\n  );\r\n}\r\n<Slider className=\"my-custom-slider\" value={50} />;\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:"/* UI library default stylesheet */\r\n.gfe-slider { height: 12px; }\r\n/* Developer's custom stylesheet */\r\n.my-custom-slider { color: red; }\n"})}),"\n",(0,i.jsxs)(n.p,{children:["If there are many DOM elements within the component to be targeted, you can also have multiple differently-named props for ",(0,i.jsx)(n.code,{children:"className"}),"s of different elements."]}),"\n",(0,i.jsx)(n.h4,{id:"jquery-example",children:"jQuery Example"}),"\n",(0,i.jsx)(n.p,{children:"In jQuery, classes can also be passed as a field on the options:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"$('#gfe-slider').slider({\r\n  // In reality, jQuery UI takes in a `classes` field instead\r\n  // since there are multiple elements.\r\n  class: 'my-custom-slider',\r\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["jQuery UI's component initializers take in the ",(0,i.jsx)(n.code,{children:"classes"})," field to allow adding additional classes to individual elements:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"$('#gfe-slider').slider({\r\n  classes: {\r\n    'ui-slider': 'highlight',\r\n    'ui-slider-handle': 'ui-corner-all',\r\n    'ui-slider-range': 'ui-corner-all ui-widget-header',\r\n  },\r\n});\n"})}),"\n",(0,i.jsx)(n.h4,{id:"downside-non-deterministic-styling",children:"Downside: Non-deterministic styling"}),"\n",(0,i.jsxs)(n.p,{children:["Class injection can lead to non-deterministic results if multiple classes have conflicting styles and the loading order of stylesheets is not guaranteed. This can lead to hacks like ",(0,i.jsx)(n.code,{children:"!important"})," or increased selector specificity, making CSS unmaintainable."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"css-selector-hooks",children:"CSS Selector Hooks"}),"\n",(0,i.jsx)(n.p,{children:'Developers can "hook" into a component\'s selectors by using published class names or data attributes in their stylesheets. If UI library authors make these selectors part of their API and guarantee their stability, this is an acceptable practice.'}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:'function Slider({ label, value }) {\r\n  const id = useId();\r\n  return (\r\n    <div className="gfe-slider">\r\n      <label className="gfe-slider-label" htmlFor={id}>{label}</label>\r\n      <input className="gfe-slider-range" id={id} type="range" value={value} />\r\n    </div>\r\n  );\r\n}\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:".gfe-slider { font-size: 12px; }\r\n.gfe-slider-label { color: red; }\r\n.gfe-slider-range { height: 20px; }\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://reach.tech/styling",children:"Reach UI"})," uses ",(0,i.jsx)(n.code,{children:"data-reach-*"})," attributes for styling hooks:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:"[data-reach-menu-item] { color: blue; }\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"theme-object",children:"Theme Object"}),"\n",(0,i.jsx)(n.p,{children:"Instead of taking in classes, the component takes in an object of key/values for styling. This is useful if there is only a strict subset of properties to customize, or if you want to restrict styling to only a few properties."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"const defaultTheme = { color: 'black', height: 12 };\r\nfunction Slider({ value, label, theme }) {\r\n  const mergedTheme = { ...defaultTheme, ...theme };\r\n  return (\r\n    <div className=\"gfe-slider\">\r\n      <label style={{ color: mergedTheme.color }}>{label}</label>\r\n      <input type=\"range\" value={value} style={{ height: mergedTheme.height }} />\r\n    </div>\r\n  );\r\n}\r\n<Slider theme={{ color: 'red', height: 24 }} {...props} />;\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"css-preprocessor-compilation",children:"CSS Preprocessor Compilation"}),"\n",(0,i.jsxs)(n.p,{children:["UI libraries are often written with CSS preprocessors like ",(0,i.jsx)(n.a,{href:"https://sass-lang.com/",children:"Sass"})," and ",(0,i.jsx)(n.a,{href:"https://lesscss.org/",children:"Less"}),". ",(0,i.jsx)(n.a,{href:"https://getbootstrap.com/",children:"Bootstrap"})," is written with Sass and provides a way to ",(0,i.jsx)(n.a,{href:"https://getbootstrap.com/docs/5.3/customize/sass/",children:"customize the Sass variables"})," used so that developers can generate a custom UI library stylesheet. This approach avoids selector overrides and results in less CSS, but requires a compilation step."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"css-variables--custom-properties",children:"CSS Variables / Custom Properties"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties",children:"CSS variables"})," (custom properties) are entities defined by CSS authors that contain specific values to be reused throughout a document. The ",(0,i.jsx)(n.code,{children:"var()"})," function accepts fallback values if the given variable is not set."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:'function Slider({ value, label }) {\r\n  return (\r\n    <div className="gfe-slider">\r\n      <label htmlFor={id}>{label}</label>\r\n      <input id={id} type="range" value={value} />\r\n    </div>\r\n  );\r\n}\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:".gfe-slider {\r\n  font-size: var(--gfe-slider-font-size, 12px);\r\n}\r\n:root {\r\n  --gfe-slider-font-size: 15px;\r\n}\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"render-props",children:"Render Props"}),"\n",(0,i.jsxs)(n.p,{children:["In React, render props are function props that a component uses to know what to render. It is useful for separating behavior from presentation. Many behavioral/headless UI libraries like ",(0,i.jsx)(n.a,{href:"https://www.radix-ui.com/",children:"Radix"}),", ",(0,i.jsx)(n.a,{href:"https://headlessui.com/",children:"Headless UI"}),", and ",(0,i.jsx)(n.a,{href:"https://reach.tech/menu-button",children:"Reach UI"})," make heavy use of render props."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"internationalization-i18n",children:"Internationalization (i18n)"}),"\n",(0,i.jsx)(n.p,{children:"Does your UI work for multiple languages? How easy is it to add support for more languages?"}),"\n",(0,i.jsx)(n.h3,{id:"avoid-hardcoding-of-labels-in-a-certain-language",children:"Avoid hardcoding of labels in a certain language"}),"\n",(0,i.jsx)(n.p,{children:"Some UI components have label strings within them (e.g. image carousel has labels for prev/next buttons). It'd be good to allow customization of these label strings by making them part of component props/options."}),"\n",(0,i.jsx)(n.h3,{id:"right-to-left-languages",children:"Right-to-left languages"}),"\n",(0,i.jsxs)(n.p,{children:["Some languages (e.g. Arabic, Hebrew) are read from right-to-left and the UI has to be flipped horizontally. The component can take in a ",(0,i.jsx)(n.code,{children:"direction"})," prop/option and change the order of how elements are rendered. For example, the prev and next buttons will be on the right and left respectively in an RTL language."]}),"\n",(0,i.jsxs)(n.p,{children:["Use ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Logical_Properties",children:"CSS logical properties"})," to futureproof your styles and let your layout work for different ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Writing_Modes",children:"writing modes"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var r=s(6540);const i={},t=r.createContext(i);function a(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);